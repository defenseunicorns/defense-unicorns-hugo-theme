/*! markmap-autoloader v0.15.4 | MIT License */ this.markmap=this.markmap||{},function(e){"use strict";var t;function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}/*! markmap-common v0.15.3 | MIT License */ function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}let a=new class e{constructor(){this.providers=n({},{jsdelivr:e=>`https://cdn.jsdelivr.net/npm/${e}`,unpkg:e=>`https://unpkg.com/${e}`}),this.provider="jsdelivr"}getFastestProvider(e=5e3,t="npm2url/dist/index.cjs"){return new Promise((r,n)=>{Promise.all(Object.entries(this.providers).map(async([e,n])=>{try{let a=await fetch(n(t));if(!a.ok)throw a;await a.text(),r(e)}catch(i){}})).then(()=>n(Error("All providers failed"))),setTimeout(n,e,Error("Timed out"))})}async findFastestProvider(e){return this.provider=await this.getFastestProvider(e),this.provider}setProvider(e,t){t?this.providers[e]=t:delete this.providers[e]}getFullUrl(e,t=this.provider){if(e.includes("://"))return e;let r=this.providers[t];if(!r)throw Error(`Provider ${t} not found`);return r(e)}};Math.random().toString(36).slice(2,8);let i="http://www.w3.org/1999/xlink",l={show:i,actuate:i,href:i},o=e=>"string"==typeof e||"number"==typeof e,s=e=>(null==e?void 0:e.vtype)===1,d=e=>(null==e?void 0:e.vtype)===2;function u(e){return e.children}let p={isSvg:!1};function f(e,t){Array.isArray(t)||(t=[t]),(t=t.filter(Boolean)).length&&e.append(...t)}let c={className:"class",labelFor:"for"};function v(e,t,r,n){if(t=c[t]||t,!0===r)e.setAttribute(t,"");else if(!1===r)e.removeAttribute(t);else{let a=n?l[t]:void 0;void 0!==a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}}function h(e,t){var r;return Array.isArray(e)?(r=e.map(e=>h(e,t))).reduce((e,t)=>e.concat(t),[]):m(e,t)}function m(e,t=p){if(null==e||"boolean"==typeof e)return null;if(e instanceof Node)return e;if(d(e)){let{type:r,props:n}=e;if(r===u){let a=document.createDocumentFragment();if(n.children){let i=h(n.children,t);f(a,i)}return a}let l=r(n);return m(l,t)}if(o(e))return document.createTextNode(`${e}`);if(s(e)){let c,{type:y,props:g}=e;if(t.isSvg||"svg"!==y||(t=Object.assign({},t,{isSvg:!0})),function e(t,r,n){for(let a in r)if("key"!==a&&"children"!==a&&"ref"!==a){if("dangerouslySetInnerHTML"===a)t.innerHTML=r[a].__html;else if("innerHTML"===a||"textContent"===a||"innerText"===a||"value"===a&&["textarea","select"].includes(t.tagName)){let i=r[a];null!=i&&(t[a]=i)}else a.startsWith("on")?t[a.toLowerCase()]=r[a]:v(t,a,r[a],n.isSvg)}}(c=t.isSvg?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y),g,t),g.children){let $=t;t.isSvg&&"foreignObject"===y&&($=Object.assign({},$,{isSvg:!1}));let w=h(g.children,$);null!=w&&f(c,w)}let{ref:b}=g;return"function"==typeof b&&b(c),c}throw Error("mount: Invalid Vnode!")}function y(e){return m(e)}function g(...e){var t;return m(t=function e(t,r,...n){return function e(t,r){let n;if("string"==typeof t)n=1;else if("function"==typeof t)n=2;else throw Error("Invalid VNode type");return{vtype:n,type:t,props:r}}(t,r=Object.assign({},r,{children:1===n.length?n[0]:n}))}(...e))}let $=function e(t){let r={};return function e(...n){let a=`${n[0]}`,i=r[a];return i||(i={value:t(...n)},r[a]=i),i.value}}(e=>{document.head.append(g("link",{rel:"preload",as:"script",href:e}))}),w={},b={};async function k(e,t){var r;let a="script"===e.type&&(null==(r=e.data)?void 0:r.src)||"";if(e.loaded||(e.loaded=w[a]),!e.loaded&&("script"===e.type&&(e.loaded=new Promise((t,r)=>{document.head.append(g("script",n({},e.data,{onLoad:t,onError:r}))),a||t(void 0)}).then(()=>{e.loaded=!0}),a&&(w[a]=e.loaded)),"iife"===e.type)){let{fn:i,getParams:l}=e.data;i(...(null==l?void 0:l(t))||[]),e.loaded=!0}await e.loaded}function S(e){let t="stylesheet"===e.type&&e.data.href||"";e.loaded||(e.loaded=b[t]),e.loaded||(e.loaded=!0,t&&(b[t]=!0),"style"===e.type?document.head.append(g("style",{textContent:e.data})):"stylesheet"===e.type&&document.head.append(g("link",n({rel:"stylesheet"},e.data))))}async function _(e,t){for(let r of(e.forEach(e=>{var t;"script"===e.type&&null!=(t=e.data)&&t.src&&$(e.data.src)}),t=n({getMarkmap:()=>window.markmap},t),e))await k(r,t)}let x={},C=r({baseJs:["d3@7.8.5","markmap-lib@0.15.4","markmap-view@0.15.4","markmap-toolbar@0.15.4"],baseCss:["markmap-toolbar@0.15.4/dist/style.css"],manual:!1,toolbar:!1},null==(t=window.markmap)?void 0:t.autoLoader);async function L(){if("function"==typeof C.provider)a.setProvider(a.provider="autoLoader",C.provider);else if("string"==typeof C.provider)a.provider=C.provider;else try{await a.findFastestProvider()}catch(e){}await Promise.all([_(C.baseJs.map(e=>{var t;return"string"==typeof e?{type:"script",data:{src:t=a.getFullUrl(e)}}:e})),function e(t){for(let r of t)S(r)}(C.baseCss.map(e=>{var t;return"string"==typeof e?{type:"stylesheet",data:{href:t=a.getFullUrl(e)}}:e}))]);let{markmap:t}=window,r=document.createElement("style");r.textContent=t.globalCSS,document.body.prepend(r),null==C.onReady||C.onReady()}let A=L();function P(e){var t;let{Transformer:r,Markmap:n,deriveOptions:i,Toolbar:l}=window.markmap,o=(null==(t=e.textContent)?void 0:t.split("\n"))||[],s=1/0;o.forEach(e=>{var t;let r=(null==(t=e.match(/^\s*/))?void 0:t[0].length)||0;r<e.length&&(s=Math.min(s,r))});let d=o.map(e=>e.slice(s)).join("\n").trim(),u=new r(C.transformPlugins);u.urlBuilder=a,e.innerHTML="<svg></svg>";let p=e.firstChild,f=n.create(p,{embedGlobalCSS:!1});if(C.toolbar){let{el:c}=l.create(f);Object.assign(c.style,{position:"absolute",right:"20px",bottom:"20px"}),e.append(c)}let v=()=>{let{root:e,frontmatter:t}=function e(t,r){let n=t.transform(r),a=Object.keys(n.features).filter(e=>!x[e]);a.forEach(e=>{x[e]=!0});let{styles:i,scripts:l}=t.getAssets(a),{markmap:o}=window;return i&&o.loadCSS(i),l&&o.loadJS(l),n}(u,d),r=null==t?void 0:t.markmap,n=i(r);f.setData(e,n),f.fit()};u.hooks.retransform.tap(v),v()}async function E(e){await A,e.querySelectorAll(".markmap").forEach(P)}function F(){return E(document)}C.manual||("loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{F()}):F()),e.ready=A,e.render=P,e.renderAll=F,e.renderAllUnder=E}(this.markmap.autoLoader=this.markmap.autoLoader||{});
